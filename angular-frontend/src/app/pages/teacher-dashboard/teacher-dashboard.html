<div class="p-6 bg-white rounded-lg shadow-md w-full max-w-md mt-8">
  <h2 class="text-2xl font-bold mb-6 text-gray-800 text-center">Teacher Dashboard</h2>

  <form (ngSubmit)="onGenerate()" class="flex flex-col gap-4">
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">Course Name</label>
      <input
        type="text"
        required
        placeholder="e.g. Data Structures"
        [(ngModel)]="courseName"
        name="courseName"
        class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500" />
    </div>

    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">Valid for (minutes)</label>
      <input
        type="number"
        min="1"
        max="60"
        [(ngModel)]="validFor"
        name="validFor"
        class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500" />
    </div>

    <button
      type="submit"
      [disabled]="loading"
      class="mt-2 w-full bg-blue-600 text-white font-bold py-2 rounded hover:bg-blue-700 transition disabled:opacity-50">
      {{ loading ? 'Generating...' : 'Generate Attendance Code' }}
    </button>
  </form>

  @if (error) {
    <p class="mt-4 text-red-500 text-center font-medium">{{ error }}</p>
  }

  @if (generatedCode) {
    <div class="mt-6 p-4 bg-green-50 border border-green-200 rounded text-center">
      <p class="text-sm text-green-800 font-semibold mb-1">Share this code with students:</p>
      <p class="text-4xl font-mono font-extrabold text-green-600 tracking-widest">{{ generatedCode }}</p>
    </div>
  }
</div>
